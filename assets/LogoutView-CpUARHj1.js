import{a as T,i as U,L as B,k as l,Z as S,r as $,b as d,o as r,f as a,e,_ as I,n as V,W as M,B as x,t as c,g as L,p as P,z,a8 as A,h as D,C as O}from"./index-B-kkMO9M.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"web-page min-h-screen bg-gray-50"},W={class:"min-h-screen w-full bg-[#f8fafc] text-slate-900 overflow-y-auto px-6 md:px-12 py-12 mt-24"},Z={class:"max-w-6xl mx-auto space-y-12"},G={class:"flex flex-col md:flex-row items-center gap-8 pb-12 border-b border-slate-200"},H={class:"relative group"},J={class:"w-32 h-32 rounded-2xl bg-white border border-slate-200 shadow-sm flex items-center justify-center overflow-hidden transition-all group-hover:border-blue-400"},K={key:0,class:"text-5xl font-light text-blue-600"},Q={class:"text-center md:text-left flex-1"},X={class:"text-3xl font-semibold tracking-tight text-slate-900"},Y={class:"text-slate-500 font-normal mt-1 italic"},ee={class:"grid grid-cols-1 lg:grid-cols-12 gap-12"},te={class:"lg:col-span-7 space-y-8"},se={class:"bg-white rounded-2xl border border-slate-200 p-8 shadow-sm"},oe={class:"max-w-md space-y-6"},ae={key:0,class:"mt-2 text-xs text-rose-500"},le=["disabled"],re={key:0},ne={key:1,class:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"},ie={class:"lg:col-span-5 space-y-8"},de={class:"bg-white rounded-2xl border border-slate-200 shadow-sm divide-y divide-slate-100 overflow-hidden"},ce={class:"flex items-center gap-4"},ue={class:"p-2 rounded-lg bg-blue-50 text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors"},me={class:"flex items-center gap-4"},be={class:"p-2 rounded-lg bg-blue-50 text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors"},ve={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-md px-4"},xe={class:"w-full max-w-2xl bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden border border-slate-200"},pe={class:"flex items-center justify-between px-8 py-6 border-b border-slate-100 bg-slate-50/50"},fe={class:"text-lg font-semibold text-slate-800"},ge={class:"flex-1 overflow-y-auto px-8 py-10 text-slate-500 text-sm leading-relaxed tracking-wide"},he=T({__name:"LogoutView",setup(_e){const p=U(),u=B(),_=D,s=l(""),m=l(!1),b=l(!1),n=l(""),v=l(!1),f=l(""),g=l(""),w=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,y=()=>{s.value?w.test(s.value)?n.value="":n.value="Ingresa un correo válido":n.value="El correo es obligatorio"},N=()=>{b.value=!0,y()},k=S(()=>s.value&&!n.value&&w.test(s.value)),C=async()=>{try{await A(_),u.setLogout(),window.location.reload(),p.push("/login")}catch(i){console.error("Error al cerrar sesión:",i)}},R=async()=>{if(!k.value){b.value=!0,y();return}try{m.value=!0,await O(_,s.value),s.value="",b.value=!1,v.value=!0,f.value="Restablecimiento de contraseña",g.value="Se ha enviado un correo para restablecer tu contraseña. Revisa tu bandeja de entrada."}catch(i){console.error("Error al enviar correo:",i),v.value=!0,f.value="Error al restablecer contraseña",g.value="Error enviando el correo. Verifica que la cuenta exista."}finally{m.value=!1}},E=i=>{i==="privacy"?p.push("/privacy-policy"):p.push("/terms")},j=()=>{v.value=!1};return(i,t)=>{const o=$("v-icon");return r(),d("div",F,[a(I,{"page-title":"Mi Cuenta"}),e("section",W,[e("div",Z,[e("header",G,[e("div",H,[e("div",J,[x(u).getUserName?(r(),d("span",K,c(x(u).getUserName.charAt(0).toUpperCase()),1)):(r(),M(o,{key:1,name:"hi-user-circle",scale:"4",class:"text-slate-200"}))])]),e("div",Q,[e("h1",X,c(x(u).getUserName||"Usuario"),1),e("p",Y,c(x(u).getUserEmail),1)]),e("button",{onClick:C,class:"md:flex items-center gap-2 px-5 py-2.5 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all text-sm font-medium border border-transparent hover:border-rose-100"},[a(o,{name:"md-logout",scale:"0.9"}),t[3]||(t[3]=L(" Cerrar sesión ",-1))])]),e("div",ee,[e("div",te,[e("div",null,[t[6]||(t[6]=e("h3",{class:"text-sm font-bold text-blue-600 uppercase tracking-[0.2em] mb-6"}," Seguridad y Acceso ",-1)),e("div",se,[e("div",oe,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-slate-600 mb-2"},"Restablecer contraseña",-1)),t[5]||(t[5]=e("p",{class:"text-xs text-slate-400 mb-4"},"Enviaremos un enlace de verificación a tu dirección de correo electrónico institucional.",-1)),P(e("input",{"onUpdate:modelValue":t[0]||(t[0]=h=>s.value=h),type:"email",placeholder:"correo@ejemplo.com",onBlur:N,class:"w-full h-11 px-4 rounded-lg bg-white border border-slate-200 focus:border-blue-500 focus:ring-0 outline-none transition-all placeholder:text-slate-300"},null,544),[[z,s.value]]),n.value&&b.value?(r(),d("p",ae,c(n.value),1)):V("",!0)]),e("button",{onClick:R,disabled:!k.value||m.value,class:"inline-flex items-center justify-center px-8 h-11 rounded-lg bg-blue-600 text-white text-sm font-semibold hover:bg-blue-700 transition-all disabled:bg-slate-200 shadow-sm"},[m.value?(r(),d("div",ne)):(r(),d("span",re,"Actualizar credenciales"))],8,le)])])])]),e("div",ie,[t[10]||(t[10]=e("h3",{class:"text-sm font-bold text-blue-600 uppercase tracking-[0.2em] mb-6"}," Información Legal ",-1)),e("div",de,[e("button",{onClick:t[1]||(t[1]=h=>E("privacy")),class:"w-full px-6 py-5 flex items-center justify-between hover:bg-slate-50 transition group"},[e("div",ce,[e("div",ue,[a(o,{name:"hi-shield-check",scale:"1.1"})]),t[7]||(t[7]=e("span",{class:"font-medium text-slate-700"},"Política de Privacidad",-1))]),a(o,{name:"fa-chevron-right",scale:"0.7",class:"text-slate-300"})]),e("button",{onClick:t[2]||(t[2]=h=>E("terms")),class:"w-full px-6 py-5 flex items-center justify-between hover:bg-slate-50 transition group"},[e("div",me,[e("div",be,[a(o,{name:"hi-document-text",scale:"1.1"})]),t[8]||(t[8]=e("span",{class:"font-medium text-slate-700"},"Términos del Servicio",-1))]),a(o,{name:"fa-chevron-right",scale:"0.7",class:"text-slate-300"})])]),e("button",{onClick:C,class:"md:hidden w-full h-12 rounded-xl border border-rose-100 text-rose-500 font-medium hover:bg-rose-50 transition flex items-center justify-center gap-2"},[a(o,{name:"md-logout"}),t[9]||(t[9]=L(" Cerrar sesión ",-1))])])]),v.value?(r(),d("div",ve,[e("div",xe,[e("header",pe,[e("h2",fe,c(f.value),1),e("button",{onClick:j,class:"p-2 rounded-full text-slate-400 hover:bg-slate-200/50 transition"},[a(o,{name:"md-close"})])]),e("div",ge,c(g.value),1),e("footer",{class:"px-8 py-6 border-t border-slate-100 flex justify-end bg-slate-50/50"},[e("button",{onClick:j,class:"px-8 py-2.5 rounded-lg bg-slate-800 text-white text-sm font-medium hover:bg-slate-900 transition shadow-lg"}," Entendido ")])])])):V("",!0)])])])}}}),ke=q(he,[["__scopeId","data-v-51f63e1c"]]);export{ke as default};
