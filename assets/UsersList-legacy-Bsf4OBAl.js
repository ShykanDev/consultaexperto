System.register(["./index-legacy-DiWsflZD.js","./_plugin-vue_export-helper-legacy-BVIICed7.js"],function(e,t){"use strict";var s,a,l,n,o,r,d,i,c,u,b,x,p,g,f,y,v,m,h,w,C,k,j,U,_;return{setters:[e=>{s=e.a,a=e.k,l=e.N,n=e.O,o=e.j,r=e.r,d=e.b,i=e.o,c=e.n,u=e.e,b=e.f,x=e.t,p=e.x,g=e.F,f=e.v,y=e.p,v=e.A,m=e.J,h=e.a1,w=e.V,C=e.G,k=e.l,j=e.W,U=e.I},e=>{_=e._}],execute:function(){var t=document.createElement("style");t.textContent=".web-page[data-v-f6949b5d]{background-color:#f9fafb}\n",document.head.appendChild(t);const B={class:"web-card bg-white shadow-sm border border-gray-100 rounded-2xl overflow-hidden ios-card group relative transition-all duration-300"},E={key:0,class:"absolute top-0 right-0 p-2 z-10"},I={key:1,class:"p-4"},O={class:"flex items-center gap-3 border-b pb-4"},R={class:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-blue-500"},S={class:"flex flex-col"},V={class:"text-lg font-bold text-gray-900"},G={class:"text-xs text-gray-500 lowercase"},A={class:"mt-4 space-y-3"},F={class:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl"},H={class:"flex flex-col text-sm"},L={class:"font-semibold text-gray-700"},T={class:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl"},$={class:"flex flex-col text-sm"},z={class:"mt-4 p-4 bg-blue-50/50 rounded-2xl border border-blue-100"},D={class:"flex items-center justify-between mb-2"},J={key:0,class:"space-y-2 mt-2"},M={class:"flex items-center justify-between"},N={class:"text-sm font-bold text-gray-700"},W=["onClick"],q={class:"p-5 bg-slate-50"},K={class:"flex justify-between items-center mb-4"},P={class:"space-y-4"},Q={class:"space-y-1"},X={class:"space-y-1"},Y={class:"flex gap-2"},Z={key:0,class:"mt-2"},ee=s({__name:"UserListCard",props:{user:{}},emits:["userUpdated"],setup(e,{emit:t}){const s=e,C=t,k=a(!1),j=l({...s.user}),U=l({...s.user}),_=a([]);function ee(){Object.assign(U,j),k.value=!0}function te(){k.value=!1}function se(e){U.isBanned=e}n(()=>s.user,e=>{Object.assign(j,e),k.value||Object.assign(U,e)});const ae=o();function le(){const e=m(ae,"users",s.user.userId);h(e,U).then(()=>{k.value=!1,C("userUpdated")}).catch(e=>{console.error("Error updating user:",e)})}function ne(){s.user.categoryConsultations&&(_.value=Object.entries(s.user.categoryConsultations))}return(t,a)=>{const l=r("v-icon");return i(),d("div",B,[k.value?c("",!0):(i(),d("div",E,[u("button",{class:"p-2 text-blue-500 hover:text-blue-600 transition-colors",onClick:ee},[b(l,{name:"fa-user-edit",scale:"1.2"})])])),k.value?c("",!0):(i(),d("div",I,[u("div",O,[u("div",R,[b(l,{name:"hi-user",scale:"1.5"})]),u("div",S,[u("h2",V,x(e.user.name||"Usuario"),1),u("span",G,x(e.user.email),1)])]),u("div",A,[u("div",F,[b(l,{class:"text-green-500",name:"fa-phone"}),u("div",H,[a[4]||(a[4]=u("span",{class:"text-[10px] uppercase font-bold text-gray-400"},"Teléfono",-1)),u("span",L,x(j.phone||"Sin número"),1)])]),u("div",T,[b(l,{name:"ri-error-warning-line",class:p(j.isBanned?"text-red-500":"text-blue-500")},null,8,["class"]),u("div",$,[a[5]||(a[5]=u("span",{class:"text-[10px] uppercase font-bold text-gray-400"},"Estado",-1)),u("span",{class:p(["font-bold",j.isBanned?"text-red-600":"text-green-600"])},x(j.isBanned?"Suspendido":"Habilitado"),3)])]),u("div",z,[u("div",D,[a[6]||(a[6]=u("span",{class:"text-xs font-bold text-gray-800"},"Consultas Gratuitas",-1)),e.user.categoryConsultations?(i(),d("button",{key:0,class:"text-[10px] font-bold text-blue-600",onClick:ne},"Ver Detalles")):c("",!0)]),_.value.length>0?(i(),d("div",J,[(i(!0),d(g,null,f(_.value,e=>(i(),d("div",{class:"bg-white p-3 rounded-xl border border-blue-50",key:e[0]},[u("div",M,[u("span",N,x(e[0]),1),u("button",{class:"text-[10px] bg-blue-600 text-white px-2 py-1 rounded",onClick:t=>async function(e){const t=m(ae,"users",s.user.userId);await h(t,{[`categoryConsultations.${e}.hasFreeConsult`]:!0,[`categoryConsultations.${e}.reactivatedAt`]:w.now()}),C("userUpdated")}(e[0])},"Reactivar",8,W)])]))),128))])):c("",!0)])])])),u("div",q,[u("div",K,[a[7]||(a[7]=u("h3",{class:"text-base font-bold text-gray-800"},"Editar Usuario",-1)),u("button",{class:"text-gray-400 hover:text-gray-600",onClick:te},[b(l,{name:"io-close"})])]),u("div",P,[u("div",Q,[a[8]||(a[8]=u("label",{class:"text-xs font-semibold text-gray-500 ml-1"},"Teléfono",-1)),y(u("input",{class:"w-full px-3 py-2 bg-white border rounded-xl","onUpdate:modelValue":a[0]||(a[0]=e=>U.phone=e),type:"tel"},null,512),[[v,U.phone]])]),u("div",X,[a[9]||(a[9]=u("label",{class:"text-xs font-semibold text-gray-500 ml-1"},"Estado",-1)),u("div",Y,[u("button",{class:p(["flex-1 py-2 text-xs font-bold rounded-lg border transition-all",U.isBanned?"bg-gray-100 text-gray-400":"bg-white text-green-600 border-green-200"]),onClick:a[1]||(a[1]=e=>se(!1))},"Habilitado",2),u("button",{class:p(["flex-1 py-2 text-xs font-bold rounded-lg border transition-all",U.isBanned?"bg-white text-red-600 border-red-200":"bg-gray-100 text-gray-400"]),onClick:a[2]||(a[2]=e=>se(!0))},"Suspendido",2)]),U.isBanned?(i(),d("div",Z,[y(u("input",{class:"w-full px-3 py-2 border rounded-xl text-sm","onUpdate:modelValue":a[3]||(a[3]=e=>U.banReason=e),placeholder:"Motivo de suspensión"},null,512),[[v,U.banReason]])])):c("",!0)]),u("button",{class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl text-sm mt-4 shadow-lg shadow-blue-200",onClick:le}," Guardar Cambios ")])])])}}}),te={class:"web-page min-h-screen bg-gray-50"},se={class:"web-content overflow-y-auto font-poppins mt-28"},ae={class:"web-list divide-y divide-gray-100"},le=s({__name:"UsersList",setup(e){const t=a([]),s=o(),l=C(s,"users"),n=()=>{t.value=[],U(l).then(e=>{e.forEach(e=>{const s=e.data();s.docId=e.id,s.docRef=e.ref,t.value.push(s)})})};return k(()=>{n()}),(e,s)=>(i(),d("div",te,[u("section",se,[u("div",ae,[(i(!0),d(g,null,f(t.value,e=>(i(),j(ee,{key:e.userId,user:e,onUserUpdated:s[0]||(s[0]=e=>n())},null,8,["user"]))),128))])])]))}});e("default",_(le,[["__scopeId","data-v-f6949b5d"]]))}}});
