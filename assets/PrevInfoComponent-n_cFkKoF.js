import{a as R,i as q,k as A,l as F,r as M,b as n,o as r,x as u,n as d,e,W as j,t as c,f as O,q as T,L as W}from"./index-BYM5y-Co.js";import{u as G}from"./expertUi-B9qsdSyo.js";import{u as H}from"./stars-B7JsDl3t.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={key:0,class:"absolute inset-0 bg-slate-900/40 backdrop-blur-[2px] opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-30 flex items-center justify-center p-4"},Q={key:1,class:"absolute top-4 right-4 z-20 text-[10px] uppercase tracking-widest font-bold text-slate-500 bg-slate-100 px-3 py-1 rounded-full border border-slate-200"},X={class:"flex flex-col items-center"},Y={class:"relative mb-5"},Z={class:"w-24 h-24 rounded-2xl overflow-hidden ring-4 ring-slate-50 shadow-inner flex items-center justify-center bg-slate-100"},ee=["src"],te={key:0,class:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 border-4 border-white rounded-full"},se={class:"text-center w-full"},ae={key:0,class:"flex items-center justify-center space-x-1 mb-4"},oe={class:"flex items-center bg-yellow-50 px-2 py-0.5 rounded-md"},re={class:"text-yellow-700 font-bold text-sm"},le={class:"text-slate-400 text-[11px]"},ne={class:"text-slate-500 text-sm leading-relaxed line-clamp-2 px-2 mb-4 italic min-h-[40px]"},ie={class:"border-t border-slate-50 pt-4 mb-5"},de={class:"text-slate-600 text-xs font-mono"},ce={class:"mt-auto"},ue={key:1,class:"w-full py-3 px-4 bg-slate-100 text-slate-400 rounded-xl font-semibold text-sm cursor-not-allowed",disabled:""},pe=R({__name:"PrevInfoComponent",props:{expertData:Object},emits:["closeCard"],setup(o,{emit:I}){const p=G(),t=o,P=q(),V=async l=>{var a;try{if(x(l)){alert("No puedes agendar citas con este experto");return}if(!((a=t.expertData)!=null&&a.userUid)){console.error("No expert UID provided");return}p.resetExpertUid(),p.setExpertUid(t.expertData.userUid),P.push("/expert-info-fixed"),$()}catch(i){console.error("Navigation error:",i)}},x=l=>{var i;if(!l)return!1;const a=(i=W().getUserData)==null?void 0:i.expertsBlocked;return a?a[l]?(console.log("Expert ".concat(l," is blocked")),!0):(console.log("Expert ".concat(l," is not blocked")),!1):!1},s=A(!1);F(()=>{var l;s.value=x((l=t.expertData)==null?void 0:l.userUid)});const z=I,$=()=>z("closeCard"),{calcStarsValue:L}=H();return(l,a)=>{var b,f,m,v,g,h,y,_,k,w,D,S,C,E,N,U;const i=M("v-icon");return r(),n("div",{class:u([s.value||(b=t.expertData)!=null&&b.isSuspended?"cursor-not-allowed grayscale":"cursor-pointer","relative group overflow-hidden rounded-3xl bg-white border border-slate-100 shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_20px_40px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 p-6"])},[s.value||(f=t.expertData)!=null&&f.isSuspended?(r(),n("div",K,[...a[1]||(a[1]=[e("div",{class:"bg-white/95 backdrop-blur-md p-4 rounded-2xl shadow-xl transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500"},[e("p",{class:"text-slate-800 text-center font-medium text-sm animate-fade-up"}," Este experto no está disponible en este momento ")],-1)])])):d("",!0),s.value||(m=t.expertData)!=null&&m.isSuspended?(r(),n("span",Q," No disponible ")):d("",!0),e("div",X,[e("div",Y,[e("div",Z,[(v=o.expertData)!=null&&v.imgUrl?(r(),n("img",{key:0,src:o.expertData.imgUrl,alt:"Expert Profile",class:"w-full h-full object-cover"},null,8,ee)):(r(),n("div",{key:1,class:u(["flex items-center justify-center w-full h-full",s.value?"bg-slate-200":"bg-blue-50"])},[!s.value&&!((g=t.expertData)!=null&&g.isSuspended)?(r(),j(i,{key:0,name:"la-user-tie-solid",scale:"2",class:"text-blue-500"})):(r(),j(i,{key:1,class:"text-slate-400",name:"fa-user-slash",scale:"2"}))],2))]),s.value?d("",!0):(r(),n("div",te))]),e("div",se,[e("h2",{class:u(["text-xl font-bold font-poppins tracking-tight mb-1",{"text-slate-400":s.value||((h=t.expertData)==null?void 0:h.isSuspended),"text-slate-800":!s.value&&!((y=t.expertData)!=null&&y.isSuspended)}])},c(((_=o.expertData)==null?void 0:_.fullName)||"Experto"),3),e("div",{class:u(["inline-block px-3 py-1 rounded-lg text-xs font-semibold tracking-wide mb-3",{"bg-slate-100 text-slate-400":s.value||((k=t.expertData)==null?void 0:k.isSuspended),"bg-blue-50 text-blue-600":!s.value&&!((w=t.expertData)!=null&&w.isSuspended)}])},c(((D=o.expertData)==null?void 0:D.specialty)||"Especialidad"),3),(S=o.expertData)!=null&&S.rating?(r(),n("div",ae,[e("div",oe,[O(i,{class:"text-yellow-500 mr-1",name:"io-star",scale:"0.8"}),e("span",re,c(T(L)(o.expertData.rating).toFixed(1)),1)]),e("span",le,"("+c(o.expertData.rating.count)+" reseñas)",1)])):d("",!0),e("p",ne,' "'+c(((C=o.expertData)==null?void 0:C.bio)||"Sin descripción disponible")+'" ',1),e("div",ie,[a[2]||(a[2]=e("span",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},"Cédula Profesional",-1)),e("p",de,c(((E=o.expertData)==null?void 0:E.professionalId)||"N/A"),1)]),e("div",ce,[!s.value&&!((N=t.expertData)!=null&&N.isSuspended)?(r(),n("button",{key:0,onClick:a[0]||(a[0]=xe=>{var B;return V((B=o.expertData)==null?void 0:B.userUid)}),class:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-sm transition-all shadow-[0_10px_20px_-5px_rgba(37,99,235,0.4)] active:scale-95","data-cy":"view-schedule-button"}," Ver Disponibilidad ")):d("",!0),(U=t.expertData)!=null&&U.isSuspended?(r(),n("button",ue," Temporalmente fuera ")):d("",!0)])])])],2)}}}),ge=J(pe,[["__scopeId","data-v-1afc650f"]]);export{ge as P};
