import{a as W,k as h,Z as z,j as K,r as te,b as i,o,F as I,e,W as Q,n as u,Y as O,f as v,t as r,x as b,a7 as ae,p as R,A as G,J as Y,K as se,V as J,L as X,a0 as Z,u as oe,q as N,v as P,Q as ie,E as ne,G as le,H as re,I as de}from"./index-BYM5y-Co.js";import{u as ce}from"./expertAdmin-7FGLL5-A.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ue={class:"admin-appointment-card py-1"},ge={class:"admin-card-info admin-title"},pe={class:"admin-meta"},me={class:"admin-date"},be={class:"admin-time"},xe={key:0,class:""},fe={key:1,class:"finished"},ye={key:2,class:"cancel"},ve={key:1,class:"admin-modal"},he={class:"admin-modal-header"},Ce={class:"admin-grid"},_e={class:"admin-grid-item"},we={class:"admin-grid-value"},ke={class:"admin-grid-item"},Fe={class:"admin-grid-value"},Ee={class:"admin-grid-item"},De={class:"admin-grid-value"},Ae={class:"admin-grid-item"},Se=["href"],$e={class:"admin-grid"},je={class:"admin-grid-item"},Le={class:"admin-grid-value"},Ne={class:"flex items-center gap-2 border-b border-b-gray-100 pb-2 mb-2"},ze={class:"flex justify-between items-center w-full"},Ie={key:0,class:"flex items-center gap-2 border-b border-b-gray-100 pb-2 mb-2"},Be={class:"flex justify-between items-center w-full"},Me={key:0,class:"font-medium text-gray-600"},Ue={key:1,class:"flex items-center gap-2 border-b border-b-gray-100 pb-2 mb-2"},Pe={class:"flex justify-between items-center w-full"},Ve={key:0,class:"font-medium text-gray-600"},Re={key:2,class:"flex items-center gap-2 border-b border-b-gray-100 pb-2 mb-2"},He={class:"flex justify-between items-center w-full"},qe={key:0,class:"font-medium text-gray-600"},Te={class:"admin-modal-footer"},Oe={class:"admin-created-at"},Ge={class:"admin-actions"},Je={key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in"},Xe={class:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl transform transition-all scale-100 animate-jump-in"},We={class:"flex items-center justify-between mb-4"},Ke={key:1,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in"},Qe={class:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl transform transition-all scale-100 animate-jump-in"},Ye={class:"flex items-center justify-between mb-4"},Ze=W({__name:"ExpertScheduleData",props:{data:{type:Object,required:!0}},emits:["reloadData"],setup(H,{emit:S}){const $=h([{specialty:"Importación y Exportación",color:{light:"#E6F3FF",strong:"#0066CC"},icon:"fa-truck-moving",description:"Facilitamos el intercambio de bienes y servicios a nivel internacional con normativas seguras."},{specialty:"Médico",color:{light:"#E6F7FF",strong:"#0099CC"},icon:"gi-stethoscope",description:"Profesionales de la salud comprometidos en atender tus necesidades médicas de forma personalizada."},{specialty:"Contador",color:{light:"#E6FFE6",strong:"#008000"},icon:"bi-calculator-fill",description:"Expertos en contabilidad para gestionar tus finanzas de forma precisa y confiable."},{specialty:"Arquitecto",color:{light:"#F0E6FF",strong:"#6600CC"},icon:"md-architecture-sharp",description:"Diseño y planificación de espacios con profesionalismo y creatividad."},{specialty:"Servicios Web",color:{light:"#E6F9FF",strong:"#00BFFF"},icon:"md-web",description:"Desarrollo de soluciones digitales a medida para potenciar tu presencia online."},{specialty:"Publicidad",color:{light:"#FFF0E6",strong:"#FF6600"},icon:"ri-newspaper-fill",description:"Estrategias creativas para difundir y potenciar la imagen de tu marca."},{specialty:"Traductores",color:{light:"#FFF8E6",strong:"#FFD700"},icon:"hi-solid-translate",description:"Especialistas en comunicación multilingüe para romper barreras idiomáticas."},{specialty:"Peritaje",color:{light:"#F0E6FF",strong:"#800080"},icon:"gi-sherlock-holmes",description:"Evaluaciones técnicas y profesionales con rigor y precisión."},{specialty:"Ingeniería en Computación",color:{light:"#E6FFFA",strong:"#00CED1"},icon:"md-computer-twotone",description:"Innovación tecnológica y desarrollo de sistemas a la vanguardia."},{specialty:"Gestoría en Trámites",color:{light:"#E6E6FF",strong:"#4B0082"},icon:"ri-newspaper-fill",description:"Optimiza tus gestiones administrativas con asesorías especializadas."},{specialty:"Marketing",color:{light:"#FFE6F0",strong:"#FF1493"},icon:"ri-marketing-strategy-fill",description:"Conecta con tu audiencia a través de estrategias innovadoras y efectivas."},{specialty:"Abogado",color:{light:"#F5E6D3",strong:"#8B4513"},icon:"fa-balance-scale",description:"Conecta con un abogado especializado para recibir asesoría legal directa y resolver tus asuntos jurídicos."},{specialty:"Psicólogo/a",color:{light:"#E6E6FF",strong:"#6A5ACD"},icon:"ri-psychotherapy-fill",description:"Asesoría psicológica para resolver tus dudas y resolver tus problemas."},{specialty:"Maestro",color:{light:"#F0FFF0",strong:"#2E8B57"},icon:"gi-teacher",description:"Asesoría educativa para resolver tus dudas y resolver tus problemas."},{specialty:"Chef",color:{light:"#FFE6E6",strong:"#FF4500"},icon:"gi-chef-toque"}]),g=l=>{const t=$.value.find(n=>n.specialty.toLowerCase().trim()===l.toLowerCase().trim());return t?t.color.light:"#E6E6E6"},k=l=>{const t=$.value.find(n=>n.specialty.toLowerCase().trim()===l.toLowerCase().trim());return t?t.color.strong:"#E6E6E6"},F=l=>{const t=$.value.find(n=>n.specialty.toLowerCase().trim()===l.toLowerCase().trim());return t?t.icon:""},a=H,j=l=>{const t=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"],n=l.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return t.findIndex(x=>n.includes(x))},E=z(()=>{var T;if(!((T=a.data)!=null&&T.createdAt))return null;const l=new Date(a.data.createdAt.seconds*1e3),t=l.getDay(),n=a.data.DayName||a.data.dayName||"",x=j(n);if(x===-1)return l;let y=x-t;y<=0&&(y+=7);const q=new Date(l);return q.setDate(l.getDate()+y),q}),D=z(()=>E.value?E.value.toLocaleDateString("es-MX",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"),B=z(()=>a.data.expertSchedule.time);z(()=>{var l;return((l=E.value)==null?void 0:l.toLocaleDateString("es-MX",{weekday:"long"}))||a.data.DayName});const w=h("card"),M=()=>{w.value=w.value==="card"?"modal":"card"},V=K(),U=S,L=async(l,t)=>{try{const n=Y(V,"schedules/".concat(a.data.docId)),x=await se(n);x.exists()||console.log("No se encontró el documento"),console.log(JSON.stringify(x.data()));const y={isFinished:!1,isCanceled:!1,finishedAt:null,canceledAt:null,cancelationReason:"",canceledByName:"",canceledByUid:"",appointmentLink:""};l==="finish"&&(y.isFinished=!0,y.finishedAt=J.now()),l==="cancel"&&(y.isCanceled=!0,y.canceledAt=J.now(),y.cancelationReason=t||"Cancelada por el administrador",y.canceledByName=X().getUserName,y.canceledByUid=X().getUserUid),l==="link"&&(y.appointmentLink=t),await Z(n,y),U("reloadData"),console.log("Documentos actualizados correctamente")}catch(n){console.error("Error al marcar la consulta:",n)}},p=h(!1),s=h(""),d=h(!1),c=h(""),m=()=>{s.value="",p.value=!0},C=()=>{p.value=!1},A=()=>{if(!s.value||s.value.trim()===""){alert("El motivo es obligatorio para cancelar la cita.");return}L("cancel",s.value),C()},_=()=>{d.value=!1},f=()=>{if(!c.value||c.value.trim()===""){alert("El enlace es obligatorio.");return}L("link",c.value),_()};return(l,t)=>{const n=te("v-icon");return o(),i(I,null,[e("section",ue,[w.value==="card"?(o(),i("article",{key:0,class:"admin-card",onClick:M},[e("div",{class:"admin-card-header admin-icon-container",style:O({backgroundColor:g(a.data.expertSpecialty)})},[v(n,{name:F(a.data.expertSpecialty),scale:"1.4",style:O({color:k(a.data.expertSpecialty)})},null,8,["name","style"])],4),e("h3",ge,r(a.data.expertSpecialty)+" · "+r(a.data.userName),1),e("div",pe,[e("span",me,r(D.value),1),e("span",be,r(B.value)+" hrs",1)]),e("div",{class:b(["admin-status",{finished:a.data.isFinished,cancel:a.data.isCanceled,pending:!a.data.isFinished&&!a.data.isCanceled}])},[!a.data.isFinished&&!a.data.isCanceled?(o(),i("p",xe,"Agendada")):u("",!0),a.data.isFinished?(o(),i("p",fe,"Finalizada")):u("",!0),a.data.isCanceled?(o(),i("p",ye,"Cancelada")):u("",!0)],2)])):u("",!0),w.value==="modal"?(o(),i("div",ve,[e("div",he,[e("button",{class:"admin-back-button",onClick:M},[v(n,{class:"text-blue-600",name:"fa-chevron-left"}),t[4]||(t[4]=e("span",null,"Cerrar",-1))]),t[5]||(t[5]=e("h2",{class:"admin-modal-title"},"Detalles de la Cita",-1))]),t[16]||(t[16]=e("h4",{class:"admin-section admin-section-title"},"Datos de la Cita",-1)),e("div",Ce,[e("div",_e,[v(n,{class:"admin-grid-icon",name:"fa-calendar-check"}),t[6]||(t[6]=e("p",{class:"admin-grid-label"},"Fecha:",-1)),e("p",we,r(D.value),1)]),e("div",ke,[v(n,{class:"admin-grid-icon",name:"fa-clock"}),t[7]||(t[7]=e("p",{class:"admin-grid-label"},"Hora:",-1)),e("p",Fe,r(B.value)+" hrs",1)]),e("div",Ee,[v(n,{class:"admin-grid-icon",name:"fa-user"}),t[8]||(t[8]=e("p",{class:"admin-grid-label"},"Agendado por:",-1)),e("p",De,r(a.data.userName),1)]),e("div",Ae,[v(n,{class:"admin-grid-icon",name:"co-link"}),t[9]||(t[9]=e("p",{class:"admin-grid-label"},"Enlace:",-1)),a.data.appointmentLink!=="En proceso..."?(o(),i("a",{key:0,class:"admin-grid-link break-all",target:"_blank",href:a.data.appointmentLink},r(a.data.appointmentLink),9,Se)):u("",!0),t[10]||(t[10]=e("p",{class:"admin-grid-value pending"},"En proceso...",-1))])]),t[17]||(t[17]=e("h4",{class:"admin-section admin-section-title"},"Datos del Experto",-1)),e("div",$e,[e("div",je,[v(n,{class:"admin-grid-icon",name:"fa-id-card"}),t[11]||(t[11]=e("p",{class:"admin-grid-label"},"Cédula:",-1)),e("p",Le,r(a.data.expertProfessionalId),1)])]),e("article",Ne,[e("div",{class:b(["w-14 h-14 flex items-center justify-center rounded-2xl mr-3",a.data.isFinished?"bg-green-50":a.data.isCanceled?"bg-red-50":"bg-yellow-50"])},[v(n,{class:b(["text-2xl",a.data.isFinished?"text-green-600":a.data.isCanceled?"text-red-600":"text-yellow-600"]),name:"hi-solid-information-circle"},null,8,["class"])],2),e("div",ze,[t[12]||(t[12]=e("p",{class:"font-medium text-gray-600"},"Status de la cita:",-1)),e("p",{class:b(["font-medium text-gray-600",a.data.isFinished?"text-green-600":a.data.isCanceled?"text-red-600":"text-yellow-600"])},r(a.data.isFinished?"Finalizada":a.data.isCanceled?"Cancelada":"Reservada"),3)])]),a.data.isCanceled?(o(),i("article",Ie,[e("div",{class:b(["w-14 h-14 flex items-center justify-center rounded-2xl mr-3",a.data.isFinished?"bg-green-50":a.data.isCanceled?"bg-red-50":"bg-yellow-50"])},[v(n,{class:b(["text-2xl",a.data.isFinished?"text-green-600":a.data.isCanceled?"text-red-600":"text-yellow-600"]),name:"md-freecancellation-twotone"},null,8,["class"])],2),e("div",Be,[t[13]||(t[13]=e("p",{class:"font-medium text-gray-600"},"Motivo de cancelación:",-1)),a.data.canceledAt?(o(),i("p",Me,r(a.data.cancelationReason),1)):u("",!0)])])):u("",!0),a.data.isCanceled?(o(),i("article",Ue,[e("div",{class:b(["w-14 h-14 flex items-center justify-center rounded-2xl mr-3",a.data.isFinished?"bg-green-50":a.data.isCanceled?"bg-red-50":"bg-yellow-50"])},[v(n,{class:b(["text-2xl",a.data.isFinished?"text-green-600":a.data.isCanceled?"text-red-600":"text-yellow-600"]),name:"fa-user"},null,8,["class"])],2),e("div",Pe,[t[14]||(t[14]=e("p",{class:"font-medium text-gray-600"},"Cancelado por:",-1)),a.data.canceledAt?(o(),i("p",Ve,r(a.data.canceledByName),1)):u("",!0)])])):u("",!0),a.data.isCanceled?(o(),i("article",Re,[e("div",{class:b(["w-14 h-14 flex items-center justify-center rounded-2xl mr-3",a.data.isFinished?"bg-green-50":a.data.isCanceled?"bg-red-50":"bg-yellow-50"])},[v(n,{class:b(["text-2xl",a.data.isFinished?"text-green-600":a.data.isCanceled?"text-red-600":"text-yellow-600"]),name:"fa-calendar-check"},null,8,["class"])],2),e("div",He,[t[15]||(t[15]=e("p",{class:"font-medium text-gray-600"},"Fecha de cancelación:",-1)),a.data.canceledAt?(o(),i("p",qe,r(new Date(a.data.canceledAt.toDate()).toLocaleString("es-MX",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})),1)):u("",!0)])])):u("",!0),e("div",Te,[e("p",Oe,"Creada el "+r(a.data.createdAt.toDate().toLocaleString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})),1)]),e("div",Ge,[a.data.isCanceled?u("",!0):(o(),i("button",{key:0,class:"admin-action-button edit !text-xs hidden",onClick:t[0]||(t[0]=x=>L("notFinish"))},"No finalizada")),a.data.isCanceled?u("",!0):(o(),i("button",{key:1,class:"admin-action-button cancel text-md ring-1 ring-red-500",onClick:m},"Cancelar Cita")),a.data.isFinished?u("",!0):(o(),i("button",{key:2,class:"admin-action-button complete text-xs",onClick:t[1]||(t[1]=x=>L("finish"))},"Finalizar Cita"))])])):u("",!0)]),(o(),Q(ae,{to:"body"},[p.value?(o(),i("div",Je,[e("div",Xe,[e("div",We,[t[18]||(t[18]=e("h3",{class:"text-xl font-bold text-gray-800"},"Cancelar Cita",-1)),e("button",{onClick:C,class:"text-gray-400 hover:text-gray-600 transition-colors"},[v(n,{name:"io-close",scale:"1.2"})])]),t[20]||(t[20]=e("p",{class:"text-gray-600 mb-4 text-sm"},"Por favor, ingrese el motivo de la cancelación. Es obligatorio para continuar.",-1)),R(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=x=>s.value=x),rows:"3",class:"w-full border border-gray-200 bg-gray-50 rounded-xl p-3 mb-6 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-all resize-none text-gray-700 placeholder-gray-400",placeholder:"Escriba el motivo detallado aquí..."},"        ",512),[[G,s.value]]),e("div",{class:"flex justify-end gap-3"},[e("button",{onClick:C,class:"px-5 py-2.5 text-gray-600 font-medium hover:bg-gray-100 rounded-xl transition-colors"}," Regresar "),e("button",{onClick:A,class:"px-5 py-2.5 bg-red-500 text-white font-medium rounded-xl hover:bg-red-600 shadow-lg shadow-red-200 transition-all flex items-center gap-2"},[...t[19]||(t[19]=[e("span",null,"Confirmar Cancelación",-1)])])])])])):u("",!0),d.value?(o(),i("div",Ke,[e("div",Qe,[e("div",Ye,[t[21]||(t[21]=e("h3",{class:"text-xl font-bold text-gray-800"},"Agregar Enlace",-1)),e("button",{onClick:_,class:"text-gray-400 hover:text-gray-600 transition-colors"},[v(n,{name:"io-close",scale:"1.2"})])]),t[22]||(t[22]=e("p",{class:"text-gray-600 mb-4 text-sm"},"Por favor, ingrese el enlace de la reunión o videollamada.",-1)),R(e("input",{"onUpdate:modelValue":t[3]||(t[3]=x=>c.value=x),type:"text",class:"w-full border border-gray-200 bg-gray-50 rounded-xl p-3 mb-6 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all text-gray-700 placeholder-gray-400",placeholder:"https://meet.google.com/..."},null,512),[[G,c.value]]),e("div",{class:"flex justify-end gap-3"},[e("button",{onClick:_,class:"px-5 py-2.5 text-gray-600 font-medium hover:bg-gray-100 rounded-xl transition-colors"}," Cancelar "),e("button",{onClick:f,class:"px-5 py-2.5 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all"}," Guardar Enlace ")])])])):u("",!0)]))],64)}}}),et=ee(Ze,[["__scopeId","data-v-1242dfe3"]]),tt={class:"web-page min-h-screen bg-gray-50"},at={class:"p-4 px-7 space-y-6 mt-24"},st={class:"bg-white shadow-sm border border-gray-100 rounded-2xl p-6 flex flex-col items-center"},ot={class:"relative mb-4"},it=["src"],nt={class:"text-2xl font-bold text-gray-900"},lt={key:0,class:"text-red-600 font-bold"},rt={class:"mt-1 text-blue-600 font-medium"},dt={class:"bg-white shadow-sm border border-gray-100 rounded-2xl overflow-hidden"},ct={class:"divide-y divide-gray-100"},ut={class:"text-gray-500 font-medium"},gt={class:"bg-white shadow-sm border border-gray-100 rounded-2xl p-6"},pt={class:"text-gray-600 leading-relaxed"},mt={class:"bg-white shadow-sm border border-gray-100 rounded-2xl p-6"},bt={class:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4"},xt={class:"flex gap-2"},ft={key:0,class:"space-y-6 animate-fade-in"},yt={class:"flex items-center gap-3 p-4 bg-blue-50 rounded-2xl border border-blue-100"},vt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ht={class:"text-blue-600 font-bold mb-3 text-center border-b border-blue-100 pb-2"},Ct={class:"grid grid-cols-2 gap-2"},_t=["onClick"],wt=["disabled"],kt={key:0,class:"space-y-4 animate-fade-in"},Ft={key:0,class:"flex justify-center p-10"},Et={key:1,class:"text-center p-10 text-gray-400"},Dt={key:2,class:"grid gap-4"},At=W({__name:"ExpertPreview",setup(H){const S=oe(),$=K(),g=ce(),k=h(!1),F=h(!1),a=h(!1),j=h(!1),E=h(!1),D=h([]),B=z(()=>{var p,s,d,c,m,C,A,_;return[{label:"Nombre",value:((p=g.getCurrentExpert)==null?void 0:p.fullName)||"N/A"},{label:"Email",value:((s=g.getCurrentExpert)==null?void 0:s.email)||"N/A"},{label:"Especialidad",value:((d=g.getCurrentExpert)==null?void 0:d.specialty)||"N/A"},{label:"Cédula",value:((c=g.getCurrentExpert)==null?void 0:c.professionalId)||"No proporcionada"},{label:"Estado",value:(m=g.getCurrentExpert)!=null&&m.isSuspended?"Suspendido":"Activo",class:(C=g.getCurrentExpert)!=null&&C.isSuspended?"text-red-500 font-bold":"text-green-600 font-bold"},{label:"Motivo Suspensión",value:((A=g.getCurrentExpert)==null?void 0:A.suspensionReason)||"Ninguno",class:(_=g.getCurrentExpert)!=null&&_.isSuspended?"text-red-400":"text-gray-400"}]}),w=z(()=>{var c;const p=((c=g.getCurrentExpert)==null?void 0:c.schedule)||{},s=["Lunes","Martes","Miercoles","Jueves","Viernes","Sábado"],d={};return s.forEach(m=>{p[m]&&(d[m]=p[m])}),d}),M=(p,s)=>{if(!a.value){S.info("Habilite la edición para modificar los horarios");return}const d=w.value[p];if(d){const c=d.find(m=>m.time===s);c&&(c.isAvailable=!c.isAvailable)}},V=()=>{F.value=!F.value,F.value&&D.value.length===0&&U()},U=async()=>{var s;const p=(s=g.getCurrentExpert)==null?void 0:s.userUid;if(p){E.value=!0;try{const d=ne(le($,"schedules"),re("expertUid","==",p)),c=await de(d);D.value=c.docs.map(m=>({...m.data(),docId:m.id,docRef:m.ref}))}catch(d){console.error(d),S.error("Error al cargar consultas")}finally{E.value=!1}}},L=async()=>{var s;const p=(s=g.getCurrentExpert)==null?void 0:s.docId;if(p){j.value=!0;try{await Z(Y($,"experts/".concat(p)),{schedule:w.value}),S.success("Horario actualizado"),a.value=!1}catch(d){console.error(d),S.error("Error al guardar cambios")}finally{j.value=!1}}};return(p,s)=>{var d,c,m,C,A,_;return o(),i("div",tt,[e("main",at,[e("div",st,[e("div",ot,[e("img",{class:b(["w-32 h-32 rounded-xl object-cover ring-4 ring-offset-4",(d=N(g).getCurrentExpert)!=null&&d.isSuspended?"ring-red-500":"ring-blue-500"]),src:((c=N(g).getCurrentExpert)==null?void 0:c.profilePicture)||"https://picsum.photos/200/300",alt:"Profile picture"},null,10,it)]),e("h1",nt,r(((m=N(g).getCurrentExpert)==null?void 0:m.fullName)||"Juan Pérez"),1),(C=N(g).getCurrentExpert)!=null&&C.isSuspended?(o(),i("p",lt,"(Suspendido)")):u("",!0),e("p",rt,r(((A=N(g).getCurrentExpert)==null?void 0:A.specialty)||"Especialidad"),1)]),e("div",dt,[s[2]||(s[2]=e("div",{class:"bg-gray-50 px-6 py-4 border-b border-gray-100"},[e("h2",{class:"text-lg font-bold text-gray-800"},"Información del experto")],-1)),e("div",ct,[(o(!0),i(I,null,P(B.value,f=>(o(),i("div",{class:"px-6 py-4 flex justify-between items-center",key:f.label},[e("span",ut,r(f.label),1),e("span",{class:b(["text-gray-900",f.class])},r(f.value),3)]))),128))])]),e("div",gt,[s[3]||(s[3]=e("h2",{class:"text-lg font-bold text-gray-800 mb-3"},"Biografía",-1)),e("p",pt,r("".concat(((_=N(g).getCurrentExpert)==null?void 0:_.bio)||"Sin biografía disponible.")),1)]),e("div",mt,[e("div",bt,[s[4]||(s[4]=e("h2",{class:"text-lg font-bold text-gray-800"},"Horarios Disponibles",-1)),e("div",xt,[e("button",{onClick:s[0]||(s[0]=f=>k.value=!k.value),class:b(["px-4 py-2 rounded-xl text-sm font-semibold transition-all",k.value?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"])},r(k.value?"Ocultar Horarios":"Ver Horarios"),3),e("button",{onClick:V,class:b(["px-4 py-2 rounded-xl text-sm font-semibold transition-all",F.value?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"])}," Ver Consultas ",2)])]),k.value?(o(),i("div",ft,[e("div",yt,[R(e("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=f=>a.value=f),class:"w-5 h-5 text-blue-600 rounded"},null,512),[[ie,a.value]]),s[5]||(s[5]=e("span",{class:"text-sm font-medium text-blue-800"},"Habilitar edición de horarios",-1))]),e("div",vt,[(o(!0),i(I,null,P(w.value,(f,l)=>(o(),i("div",{key:l,class:"p-4 bg-gray-50 rounded-2xl border border-gray-100"},[e("h3",ht,r(l),1),e("div",Ct,[(o(!0),i(I,null,P(f,(t,n)=>(o(),i("button",{key:n,onClick:x=>M(l,t.time),class:b(["py-2 px-1 text-xs font-semibold rounded-lg border transition-all",t.isAvailable?"bg-white text-gray-700 border-gray-200":"bg-blue-600 text-white border-blue-600"])},r(t.time),11,_t))),128))])]))),128))]),e("button",{onClick:L,disabled:!a.value||j.value,class:"w-full h-12 bg-blue-600 text-white font-bold rounded-xl shadow-lg disabled:opacity-50 transition-all"},r(j.value?"Guardando...":"Guardar Cambios de Horario"),9,wt)])):u("",!0)]),F.value?(o(),i("section",kt,[s[7]||(s[7]=e("h2",{class:"text-lg font-bold text-gray-800"},"Consultas del Experto",-1)),E.value?(o(),i("div",Ft,[...s[6]||(s[6]=[e("div",{class:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"},null,-1)])])):D.value.length===0?(o(),i("div",Et," No hay consultas registradas. ")):(o(),i("div",Dt,[(o(!0),i(I,null,P(D.value,(f,l)=>(o(),Q(et,{key:l,data:f,onReloadData:U},null,8,["data"]))),128))]))])):u("",!0)])])}}}),Lt=ee(At,[["__scopeId","data-v-c24ce8ba"]]);export{Lt as default};
