System.register(["./index-legacy-DH7wkxWy.js"],function(e,s){"use strict";var t,l,a,r,o,n,i,u,d,c,b,f,x,p,v;return{setters:[e=>{t=e.a,l=e.u,a=e.k,r=e.j,o=e.G,n=e.b,i=e.o,u=e.c,d=e.e,c=e.n,b=e.g,f=e.F,x=e.v,p=e.t,v=e.I}],execute:function(){const s={class:"web-page min-h-screen bg-gray-50 p-4"},g={id:"users"},h={class:"web-content overflow-y-auto"},m={class:"space-y-4"},w={key:0,class:"text-white bg-red-600 p-3 rounded-xl mt-2"},y={class:"mt-2 list-disc pl-5"},U={key:0,class:"text-white bg-red-600 p-3 rounded-xl mt-2"};e("default",t({__name:"FirebaseTest",setup(e){const t=l(),k=a([]),E=a(null),I=r(),G=o(I,"users"),D=()=>{k.value=[],v(G).then(e=>{k.value=e.docs.map(e=>({...e.data(),userId:e.id})),t.success("Usuarios obtenidos correctamente")}).catch(e=>{console.error(`Error al obtener los usuarios: ${e}`),t.error("Error al obtener los usuarios: "+e.message)})},F=()=>{t.info("Feature post-migration")};return(e,t)=>(i(),n("div",s,[t[6]||(t[6]=u('<div class="flex p-1 bg-gray-100 rounded-xl mb-4"><button class="flex-1 py-2 text-sm font-bold rounded-lg transition-all" value="users"><div class="web-label flex-1">Users</div></button><button class="flex-1 py-2 text-sm font-bold rounded-lg transition-all" value="experts"><div class="web-label flex-1">Experts</div></button></div>',1)),d("div",g,[d("main",h,[t[5]||(t[5]=d("div",{class:"font-bold text-lg mb-4"},"Testing Get Users (When user is auth)",-1)),d("div",{class:"flex gap-2 mb-4"},[d("button",{class:"web-btn bg-blue-600 text-white px-4 py-2 rounded-lg",onClick:D},"Get Users"),d("button",{class:"web-btn bg-blue-600 text-white px-4 py-2 rounded-lg",onClick:F},"Get Self User")]),d("div",m,[d("div",null,[t[1]||(t[1]=d("p",{class:"font-bold"},"Users Data",-1)),t[2]||(t[2]=d("p",{class:"text-red-500 text-sm"},"If data is present here, then firebase is still allowing user to fetch info that is not allowed (error is expected)",-1)),k.value.length>0?(i(),n("div",w,[t[0]||(t[0]=b(" Users found: You should not be able to see this, check firebase rules ",-1)),d("ul",y,[(i(!0),n(f,null,x(k.value,e=>(i(),n("li",{key:e.userId},p(e.name)+" - "+p(e.email),1))),128))])])):c("",!0)]),d("div",null,[t[3]||(t[3]=d("p",{class:"font-bold"},"Self User Data",-1)),t[4]||(t[4]=d("p",{class:"text-red-600 text-sm"},"If user can't fetch this data, then firebase is not allowing user to fetch info that is not allowed (info is expected)",-1)),E.value?(i(),n("div",U," User Data: "+p(E.value),1)):c("",!0)])])])]),t[7]||(t[7]=d("div",{class:"mt-8",id:"experts"},[d("h2",{class:"font-bold"},"Experts"),d("p",null,"Experts testing section...")],-1))]))}}))}}});
