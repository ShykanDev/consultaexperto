import{a as _,u as E,j as V,k as b,Z as A,b as n,o as i,e as o,p as r,A as u,a3 as F,F as m,v as f,t as v,x as I,S as B,h as D,T as M,s as N,J as R,U as j,a0 as P,a9 as T,G as Y}from"./index-BYM5y-Co.js";const $={class:"web-page min-h-screen bg-gray-50 mt-28"},L={class:"web-content overflow-y-auto p-6"},G={class:"space-y-8"},J={class:"web-card bg-white shadow-sm border border-gray-100 rounded-2xl overflow-hidden"},W={class:"web-card-content p-6 space-y-4 bg-[#F5F7F8] flex flex-col"},q={class:"space-y-1"},z={class:"space-y-1"},H={class:"space-y-1"},Z=["value"],K={class:"space-y-1"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q={class:"space-y-1"},X={class:"space-y-1"},ee={class:"space-y-1"},oe={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3"},le={class:"text-center text-blue-600 font-bold text-xs uppercase tracking-wider"},se={class:"space-y-1"},te=["onClick"],ae={class:"pt-4 pb-8 space-y-3"},ne=["disabled"],ue=_({__name:"CreateExpert",setup(ie){const x=E(),g=V(),h=D,U=b([{name:"Abogado",icon:"fa-balance-scale"},{name:"Médico",icon:"fa-user-md"},{name:"Contador",icon:"fa-calculator"},{name:"Arquitecto",icon:"fa-building"},{name:"Servicios Web",icon:"fa-laptop-code"},{name:"Publicidad",icon:"fa-bullhorn"},{name:"Traductor",icon:"fa-language"},{name:"Peritaje",icon:"fa-search"},{name:"Ingeniería en Computación",icon:"fa-cog"},{name:"Gestoría en Trámites",icon:"fa-file-alt"},{name:"Marketing",icon:"fa-chart-line"},{name:"Psicólogo/a",icon:"fa-user-graduate"},{name:"Maestro",icon:"fa-chalkboard-teacher"},{name:"Chef",icon:"fa-utensils"}]),l=b({userUid:"",fullName:"",specialty:"",email:"",imgUrl:"",experienceYears:null,professionalId:"",bio:"",rating:5,totalRatings:0,completedSessions:0,isSuspended:!1,isBanned:!1,suspensionReason:""}),p=b({Lunes:d(),Martes:d(),Miercoles:d(),Jueves:d(),Viernes:d(),Sábado:d()});function d(){return["9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"].map(e=>({isAvailable:!0,takenAt:null,takenBy:null,time:e}))}const y=A(()=>l.value.fullName.trim()!==""&&l.value.email.trim()!==""&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.value.email)&&l.value.experienceYears!==null&&l.value.bio.trim()!==""&&l.value.specialty!==""),w=()=>{l.value={userUid:"",fullName:"",specialty:"",email:"",imgUrl:"",experienceYears:null,professionalId:"",bio:"",rating:5,totalRatings:0,completedSessions:0,isSuspended:!1,isBanned:!1,suspensionReason:""}},k=(a,e)=>{const s=p.value[a];if(s){const t=s.find(c=>c.time===e);t&&(t.isAvailable=!t.isAvailable)}},C=async()=>{if(y.value)try{const e=(await B(h,l.value.email,"1234567890")).user;await M(e,{displayName:l.value.fullName}),await N(e),l.value.userUid=e.uid;const s=R(g,"experts/".concat(e.uid));await j(s,l.value),await P(s,{schedule:p.value}),await T(Y(g,"EmailsExperts"),{email:l.value.email}),x.success("Experto creado exitosamente. Se ha enviado verificación por email."),w()}catch(a){console.error("Error creating expert:",a),x.error("Error: "+a.message)}};return(a,e)=>(i(),n("div",$,[o("main",L,[o("div",G,[o("div",J,[e[16]||(e[16]=o("div",{class:"web-card-header p-4 border-b bg-slate-200 text-slate-700"},[o("h2",{class:"text-lg font-bold font-nunito text-center"},"Información del nuevo experto")],-1)),o("div",W,[o("div",q,[e[7]||(e[7]=o("label",{class:"text-sm font-semibold text-gray-700 ml-1"},"Nombre completo",-1)),r(o("input",{class:"w-full py-3 px-4 bg-white border-2 border-slate-200 rounded-xl outline-none focus:border-blue-600 font-poppins transition-colors",type:"text",placeholder:"Ingrese nombre completo","onUpdate:modelValue":e[0]||(e[0]=s=>l.value.fullName=s)},null,512),[[u,l.value.fullName]])]),o("div",z,[e[8]||(e[8]=o("label",{class:"text-sm font-semibold text-gray-700 ml-1"},"Correo electrónico",-1)),r(o("input",{class:"w-full py-3 px-4 bg-white border-2 border-slate-200 rounded-xl outline-none focus:border-blue-600 font-poppins transition-colors",type:"email",placeholder:"ejemplo@dominio.com","onUpdate:modelValue":e[1]||(e[1]=s=>l.value.email=s)},null,512),[[u,l.value.email]])]),o("div",H,[e[10]||(e[10]=o("label",{class:"text-sm font-semibold text-gray-700 ml-1"},"Especialidad del experto",-1)),r(o("select",{class:"w-full p-3 bg-white border-2 border-slate-200 rounded-xl outline-none focus:border-blue-600 font-poppins transition-colors","onUpdate:modelValue":e[2]||(e[2]=s=>l.value.specialty=s)},[e[9]||(e[9]=o("option",{value:"",disabled:""},"Seleccione una especialidad",-1)),(i(!0),n(m,null,f(U.value,(s,t)=>(i(),n("option",{key:t,value:s.name},v(s.name),9,Z))),128))],512),[[F,l.value.specialty]])]),o("div",K,[e[11]||(e[11]=o("label",{class:"text-sm font-semibold text-gray-700 ml-1"},"URL de imagen",-1)),r(o("input",{class:"w-full py-3 px-4 bg-white border-2 border-slate-200 rounded-xl outline-none focus:border-blue-600 font-poppins transition-colors",type:"url",placeholder:"https://ejemplo.com/imagen.png","onUpdate:modelValue":e[3]||(e[3]=s=>l.value.imgUrl=s)},null,512),[[u,l.value.imgUrl]])]),o("div",O,[o("div",Q,[e[12]||(e[12]=o("label",{class:"text-sm font-semibold text-gray-700 ml-1"},"Años de experiencia",-1)),r(o("input",{class:"w-full py-3 px-4 bg-white border-2 border-slate-200 rounded-xl outline-none focus:border-blue-600 font-poppins transition-colors",type:"number",placeholder:"ej. 5","onUpdate:modelValue":e[4]||(e[4]=s=>l.value.experienceYears=s),min:"0"},null,512),[[u,l.value.experienceYears]])])]),o("div",X,[e[13]||(e[13]=o("label",{class:"text-sm font-semibold text-gray-700 ml-1"},"ID profesional (opcional)",-1)),r(o("input",{class:"w-full py-3 px-4 bg-white border-2 border-slate-200 rounded-xl outline-none focus:border-blue-600 font-poppins transition-colors",type:"text",placeholder:"ID profesional","onUpdate:modelValue":e[5]||(e[5]=s=>l.value.professionalId=s)},null,512),[[u,l.value.professionalId]])]),o("div",ee,[e[14]||(e[14]=o("label",{class:"text-sm font-semibold text-gray-700 ml-1"},"Biografía",-1)),r(o("textarea",{class:"w-full py-3 px-4 bg-white border-2 border-slate-200 rounded-xl outline-none focus:border-blue-600 font-poppins transition-colors",placeholder:"Breve descripción del experto...","onUpdate:modelValue":e[6]||(e[6]=s=>l.value.bio=s),rows:"4"},null,512),[[u,l.value.bio]])]),e[15]||(e[15]=o("h3",{class:"mt-8 text-center font-bold text-blue-600 mb-4 font-poppins"},"Horarios del experto",-1)),o("div",oe,[(i(!0),n(m,null,f(p.value,(s,t)=>(i(),n("div",{key:t,class:"space-y-2"},[o("div",le,v(t),1),o("div",se,[(i(!0),n(m,null,f(s,(c,S)=>(i(),n("button",{class:I(["w-full py-2 text-xs font-semibold text-center rounded-lg border transition-all duration-200",c.isAvailable?"bg-white text-slate-700 border-slate-200 hover:border-blue-400":"bg-blue-600 text-white border-blue-600"]),key:S,onClick:re=>k(t,c.time)},v(c.time),11,te))),128))])]))),128))])]),o("div",ae,[o("button",{class:"w-full py-4 bg-blue-600 text-white font-bold rounded-2xl shadow-lg shadow-blue-100 hover:bg-blue-700 active:scale-[0.98] disabled:opacity-50 transition-all font-manrope",disabled:!y.value,onClick:C}," Crear Experto ",8,ne),o("button",{class:"w-full py-4 bg-white text-blue-600 font-bold rounded-2xl border-2 border-blue-600 hover:bg-blue-50 active:scale-[0.98] transition-all font-manrope",onClick:w}," Restablecer Formulario ")])])])])]))}});export{ue as default};
