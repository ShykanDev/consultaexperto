System.register(["./index-legacy-CwWgJw6_.js"],function(e,t){"use strict";var s,l,a,o,r,n,i,u,d,c,b,p,v,x,f;return{setters:[e=>{s=e.a,l=e.u,a=e.k,o=e.j,r=e.G,n=e.b,i=e.o,u=e.c,d=e.e,c=e.n,b=e.g,p=e.F,v=e.v,x=e.t,f=e.I}],execute:function(){const t={class:"web-page min-h-screen bg-gray-50 p-4 mt-36"},h={id:"users"},g={class:"web-content overflow-y-auto hidden"},m={class:"space-y-4"},w={key:0,class:"text-white bg-red-600 p-3 rounded-xl mt-2"},y={class:"mt-2 list-disc pl-5"},k={key:0,class:"text-white bg-red-600 p-3 rounded-xl mt-2"},U={class:"mt-8",id:"experts"};e("default",s({__name:"FirebaseTest",setup(e){const s=l(),I=a([]),G=a(null),E=o(),T=r(E,"users"),j=()=>{I.value=[],f(T).then(e=>{I.value=e.docs.map(e=>({...e.data(),userId:e.id})),s.success("Usuarios obtenidos correctamente")}).catch(e=>{console.error(`Error al obtener los usuarios: ${e}`),s.error("Error al obtener los usuarios: "+e.message)})},A=()=>{s.info("Feature post-migration")},C=a(),D=async()=>{try{const e=await fetch("https://backend-350palvmy-shykandevs-projects.vercel.app/api/hello");200==e.status&&(console.log(e.statusText),C.value=e.statusText)}catch(e){s.error(`Error while getting api response: ${e}`)}};return(e,s)=>{var l;return i(),n("div",t,[s[7]||(s[7]=u('<div class="flex p-1 bg-gray-100 rounded-xl mb-4 hidden"><button class="flex-1 py-2 text-sm font-bold rounded-lg transition-all" value="users"><div class="web-label flex-1">Users</div></button><button class="flex-1 py-2 text-sm font-bold rounded-lg transition-all" value="experts"><div class="web-label flex-1">Experts</div></button></div>',1)),d("div",h,[d("main",g,[s[5]||(s[5]=d("div",{class:"font-bold text-lg mb-4"},"Testing Get Users (When user is auth)",-1)),d("div",{class:"flex gap-2 mb-4"},[d("button",{class:"web-btn bg-blue-600 text-white px-4 py-2 rounded-lg",onClick:j},"Get Users"),d("button",{class:"web-btn bg-blue-600 text-white px-4 py-2 rounded-lg",onClick:A},"Get Self User")]),d("div",m,[d("div",null,[s[1]||(s[1]=d("p",{class:"font-bold"},"Users Data",-1)),s[2]||(s[2]=d("p",{class:"text-red-500 text-sm"},"If data is present here, then firebase is still allowing user to fetch info that is not allowed (error is expected)",-1)),I.value.length>0?(i(),n("div",w,[s[0]||(s[0]=b(" Users found: You should not be able to see this, check firebase rules ",-1)),d("ul",y,[(i(!0),n(p,null,v(I.value,e=>(i(),n("li",{key:e.userId},x(e.name)+" - "+x(e.email),1))),128))])])):c("",!0)]),d("div",null,[s[3]||(s[3]=d("p",{class:"font-bold"},"Self User Data",-1)),s[4]||(s[4]=d("p",{class:"text-red-600 text-sm"},"If user can't fetch this data, then firebase is not allowing user to fetch info that is not allowed (info is expected)",-1)),G.value?(i(),n("div",k," User Data: "+x(G.value),1)):c("",!0)])])])]),d("div",U,[s[6]||(s[6]=d("h2",{class:"font-bold"},"API",-1)),d("button",{onClick:D,class:"bg-blue-500 p-3 rounded-xl text-white"},"Get Api Response"),d("p",null,"Api response: "+x(null!==(l=C.value)&&void 0!==l?l:"No data yet"),1)])])}}}))}}});
