import{a as L,i as R,k as q,l as A,r as F,b as n,o as l,x as p,n as i,e,W as O,t as c,f as T,q as W,L as G}from"./index-kezhufcE.js";import{u as H}from"./expertUi-DFbiMLj0.js";import{u as J}from"./stars-B7JsDl3t.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={key:0,class:"absolute inset-0 bg-slate-900/40 backdrop-blur-[2px] opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-30 flex items-center justify-center p-4"},X={key:1,class:"absolute top-4 right-4 z-20 text-[10px] uppercase tracking-widest font-bold text-slate-500 bg-slate-100 px-3 py-1 rounded-full border border-slate-200"},Y={class:"flex flex-col items-center"},Z={class:"relative mb-5"},ee={class:"w-24 h-24 rounded-2xl overflow-hidden ring-4 ring-slate-50 shadow-inner flex items-center justify-center bg-slate-100"},te=["src"],se={key:0,class:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 border-4 border-white rounded-full"},ae={class:"text-center w-full"},oe={key:0,class:"flex items-center justify-center space-x-1 mb-4"},re={class:"flex items-center bg-yellow-50 px-2 py-0.5 rounded-md"},le={class:"text-yellow-700 font-bold text-sm"},ne={class:"text-slate-400 text-[11px]"},ie={class:"text-slate-500 text-sm leading-relaxed line-clamp-2 px-2 mb-4 italic min-h-[40px]"},de={class:"border-t border-slate-50 pt-4 mb-5"},ce={class:"text-slate-600 text-xs font-mono"},pe={class:"mt-auto"},ue={key:1,class:"w-full py-3 px-4 bg-slate-100 text-slate-400 rounded-xl font-semibold text-sm cursor-not-allowed",disabled:""},xe=L({__name:"PrevInfoComponent",props:{expertData:Object},emits:["closeCard"],setup(o,{emit:I}){const u=H(),t=o,P=R(),V=async r=>{var a;try{if(x(r)){alert("No puedes agendar citas con este experto");return}if(!((a=t.expertData)!=null&&a.userUid)){console.error("No expert UID provided");return}u.resetExpertUid(),u.setExpertUid(t.expertData.userUid),P.push("/expert-info-fixed"),z()}catch(d){console.error("Navigation error:",d)}},x=r=>{var d;if(!r)return!1;const a=(d=G().getUserData)==null?void 0:d.expertsBlocked;return a?a[r]?(console.log("Expert ".concat(r," is blocked")),!0):(console.log("Expert ".concat(r," is not blocked")),!1):!1},s=q(!1);A(()=>{var r;s.value=x((r=t.expertData)==null?void 0:r.userUid)});const $=I,z=()=>$("closeCard"),{calcStarsValue:M}=J();return(r,a)=>{var b,m,f,v,g,h,_,y,w,D,k,S,C,E,N,B,U;const d=F("v-icon");return l(),n("div",{class:p([s.value||(b=t.expertData)!=null&&b.isSuspended?"cursor-not-allowed grayscale":"cursor-pointer","relative group overflow-hidden rounded-3xl bg-white border border-slate-100 shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_20px_40px_rgba(0,0,0,0.08)] transition-all duration-500 hover:-translate-y-2 p-6"])},[s.value||(m=t.expertData)!=null&&m.isSuspended?(l(),n("div",Q,[...a[1]||(a[1]=[e("div",{class:"bg-white/95 backdrop-blur-md p-4 rounded-2xl shadow-xl transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500"},[e("p",{class:"text-slate-800 text-center font-medium text-sm animate-fade-up"}," Este experto no está disponible en este momento ")],-1)])])):i("",!0),s.value||(f=t.expertData)!=null&&f.isSuspended?(l(),n("span",X," No disponible ")):i("",!0),e("div",Y,[e("div",Z,[e("div",ee,[e("img",{src:((v=o.expertData)==null?void 0:v.imgUrl)||"https://randomuser.me/api/portraits/men/".concat(Math.floor(Math.random()*99)+1,".jpg"),alt:"Expert Profile",class:"w-full h-full object-cover"},null,8,te),!s.value&&!((g=t.expertData)!=null&&g.isSuspended)?(l(),n("div",{key:0,class:p(["flex items-center justify-center w-full h-full",s.value?"bg-slate-200":"bg-blue-50"])},[s.value||(h=t.expertData)!=null&&h.isSuspended?(l(),O(d,{key:0,class:"text-slate-400",name:"fa-user-slash",scale:"2"})):i("",!0)],2)):i("",!0)]),s.value?i("",!0):(l(),n("div",se))]),e("div",ae,[e("h2",{class:p(["text-xl font-bold font-poppins tracking-tight mb-1",{"text-slate-400":s.value||((_=t.expertData)==null?void 0:_.isSuspended),"text-slate-800":!s.value&&!((y=t.expertData)!=null&&y.isSuspended)}])},c(((w=o.expertData)==null?void 0:w.fullName)||"Experto"),3),e("div",{class:p(["inline-block px-3 py-1 rounded-lg text-xs font-semibold tracking-wide mb-3",{"bg-slate-100 text-slate-400":s.value||((D=t.expertData)==null?void 0:D.isSuspended),"bg-blue-50 text-blue-600":!s.value&&!((k=t.expertData)!=null&&k.isSuspended)}])},c(((S=o.expertData)==null?void 0:S.specialty)||"Especialidad"),3),(C=o.expertData)!=null&&C.rating?(l(),n("div",oe,[e("div",re,[T(d,{class:"text-yellow-500 mr-1",name:"io-star",scale:"0.8"}),e("span",le,c(W(M)(o.expertData.rating).toFixed(1)),1)]),e("span",ne,"("+c(o.expertData.rating.count)+" reseñas)",1)])):i("",!0),e("p",ie,' "'+c(((E=o.expertData)==null?void 0:E.bio)||"Sin descripción disponible")+'" ',1),e("div",de,[a[2]||(a[2]=e("span",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},"Cédula Profesional",-1)),e("p",ce,c(((N=o.expertData)==null?void 0:N.professionalId)||"N/A"),1)]),e("div",pe,[!s.value&&!((B=t.expertData)!=null&&B.isSuspended)?(l(),n("button",{key:0,onClick:a[0]||(a[0]=be=>{var j;return V((j=o.expertData)==null?void 0:j.userUid)}),class:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold text-sm transition-all shadow-[0_10px_20px_-5px_rgba(37,99,235,0.4)] active:scale-95","data-cy":"view-schedule-button"}," Ver Disponibilidad ")):i("",!0),(U=t.expertData)!=null&&U.isSuspended?(l(),n("button",ue," Temporalmente fuera ")):i("",!0)])])])],2)}}}),he=K(xe,[["__scopeId","data-v-b770091b"]]);export{he as P};
