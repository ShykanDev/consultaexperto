import{a as h,u as w,k as d,j as y,G as k,b as o,o as l,c as U,e as t,n as b,g as _,F as D,v as S,t as r,I as C}from"./index-DNrVSXCL.js";const I={class:"web-page min-h-screen bg-gray-50 p-4 mt-36"},T={id:"users"},E={class:"web-content overflow-y-auto hidden"},F={class:"space-y-4"},G={key:0,class:"text-white bg-red-600 p-3 rounded-xl mt-2"},N={class:"mt-2 list-disc pl-5"},A={key:0,class:"text-white bg-red-600 p-3 rounded-xl mt-2"},V={class:"mt-8",id:"experts"},R=h({__name:"FirebaseTest",setup(B){const a=w(),n=d([]),u=d(null),f=y(),x=k(f,"users"),g=()=>{n.value=[],C(x).then(s=>{n.value=s.docs.map(e=>({...e.data(),userId:e.id})),a.success("Usuarios obtenidos correctamente")}).catch(s=>{console.error("Error al obtener los usuarios: ".concat(s)),a.error("Error al obtener los usuarios: "+s.message)})},v=()=>{a.info("Feature post-migration")},c=d(),m=async()=>{try{const s=await fetch("https://backend-350palvmy-shykandevs-projects.vercel.app/api/hello");s.status==200&&(console.log(s.statusText),c.value=s.statusText)}catch(s){a.error("Error while getting api response: ".concat(s))}};return(s,e)=>{var p;return l(),o("div",I,[e[7]||(e[7]=U('<div class="flex p-1 bg-gray-100 rounded-xl mb-4 hidden"><button class="flex-1 py-2 text-sm font-bold rounded-lg transition-all" value="users"><div class="web-label flex-1">Users</div></button><button class="flex-1 py-2 text-sm font-bold rounded-lg transition-all" value="experts"><div class="web-label flex-1">Experts</div></button></div>',1)),t("div",T,[t("main",E,[e[5]||(e[5]=t("div",{class:"font-bold text-lg mb-4"},"Testing Get Users (When user is auth)",-1)),t("div",{class:"flex gap-2 mb-4"},[t("button",{class:"web-btn bg-blue-600 text-white px-4 py-2 rounded-lg",onClick:g},"Get Users"),t("button",{class:"web-btn bg-blue-600 text-white px-4 py-2 rounded-lg",onClick:v},"Get Self User")]),t("div",F,[t("div",null,[e[1]||(e[1]=t("p",{class:"font-bold"},"Users Data",-1)),e[2]||(e[2]=t("p",{class:"text-red-500 text-sm"},"If data is present here, then firebase is still allowing user to fetch info that is not allowed (error is expected)",-1)),n.value.length>0?(l(),o("div",G,[e[0]||(e[0]=_(" Users found: You should not be able to see this, check firebase rules ",-1)),t("ul",N,[(l(!0),o(D,null,S(n.value,i=>(l(),o("li",{key:i.userId},r(i.name)+" - "+r(i.email),1))),128))])])):b("",!0)]),t("div",null,[e[3]||(e[3]=t("p",{class:"font-bold"},"Self User Data",-1)),e[4]||(e[4]=t("p",{class:"text-red-600 text-sm"},"If user can't fetch this data, then firebase is not allowing user to fetch info that is not allowed (info is expected)",-1)),u.value?(l(),o("div",A," User Data: "+r(u.value),1)):b("",!0)])])])]),t("div",V,[e[6]||(e[6]=t("h2",{class:"font-bold"},"API",-1)),t("button",{onClick:m,class:"bg-blue-500 p-3 rounded-xl text-white"},"Get Api Response"),t("p",null,"Api response: "+r((p=c.value)!=null?p:"No data yet"),1)])])}}});export{R as default};
