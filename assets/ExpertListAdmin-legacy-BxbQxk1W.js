System.register(["./index-legacy-DDuM_xHi.js","./expertAdmin-legacy-DBVUGN1j.js","./stars-legacy-um4h9HOd.js","./GenericModal-legacy-B6qdP2Yf.js","./_plugin-vue_export-helper-legacy-BVIICed7.js"],function(e,r){"use strict";var t,a,s,l,o,n,d,i,c,p,u,x,b,g,f,m,v,h,y,w,k,D,E,j,S,C,R,N,_;return{setters:[e=>{t=e.a,a=e.i,s=e.u,l=e.r,o=e.b,n=e.o,d=e.q,i=e.n,c=e.e,p=e.f,u=e.t,x=e.B,b=e.a0,g=e.j,f=e.k,m=e.l,v=e.p,h=e.z,y=e.F,w=e.x,k=e.W,D=e.w,E=e.g,j=e.I,S=e.G},e=>{C=e.u},e=>{R=e.u},e=>{N=e.G},e=>{_=e._}],execute:function(){var r=document.createElement("style");r.textContent=".web-search-input[data-v-caeb6fe5]:focus{border-color:#3b82f6;box-shadow:0 0 0 4px rgba(59,130,246,.1)}\n",document.head.appendChild(r);const I={key:0,class:"absolute top-4 right-4 z-10 px-3 py-1 bg-red-100 text-red-600 text-[10px] font-bold uppercase tracking-wider rounded-full md:hidden animate-pulse"},z={class:"flex flex-col md:flex-row flex-1"},A={class:"relative mb-5 group-hover:scale-105 transition-transform duration-500"},M={class:"w-24 h-24 md:w-32 md:h-32 rounded-2xl overflow-hidden shadow-2xl ring-4 ring-white relative"},B=["src"],V={key:0,class:"absolute inset-0 bg-red-900/20 backdrop-blur-[1px] flex items-center justify-center"},O={class:"space-y-1 w-full"},P={class:"text-xl md:text-2xl font-black text-gray-800 leading-tight font-manrope tracking-tight break-words"},U={class:"text-blue-600 font-extrabold text-sm tracking-wide uppercase"},q={class:"mt-5 flex flex-wrap items-center justify-center md:justify-start gap-2.5"},G={key:0,class:"flex items-center gap-1.5 bg-white px-3 py-1.5 rounded-xl shadow-sm border border-gray-100 transition-colors group-hover:border-blue-50"},L={class:"text-sm font-black text-gray-700"},F={class:"text-[10px] text-gray-400 font-bold"},T={class:"hidden md:block"},W={key:0,class:"bg-gray-900 text-white border-gray-900 px-3 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest border"},H={class:"mt-4 flex items-center gap-2 text-gray-400"},J={class:"text-[10px] font-bold uppercase tracking-tighter"},K={class:"flex-1 p-6 md:p-8 flex flex-col justify-between bg-white"},Q={class:"space-y-6"},X={class:"relative"},Y={class:"text-sm text-gray-600 leading-relaxed line-clamp-4 italic bg-gray-50/30 p-4 rounded-2xl border border-gray-50 relative z-10"},Z={key:0,class:"p-5 bg-red-50/50 rounded-2xl border border-red-100/50 transition-all hover:bg-red-50"},$={class:"flex items-center gap-2 mb-2"},ee={class:"bg-white/80 p-3 rounded-xl border border-red-100 shadow-sm"},re={class:"text-sm text-red-700 leading-snug font-medium"},te={class:"grid grid-cols-2 gap-4 mt-8"},ae=t({__name:"ExpertCard",props:{expertData:{type:Object,default:()=>({})}},emits:["reload","callOpenModal"],setup(e,{emit:r}){const t=e,g=r,f=a(),m=s(),v=C(),{calcStarsValue:h}=R(),y=()=>{v.setExpertData(t.expertData),f.push("/expert-preview")},w=()=>{g("callOpenModal",t.expertData)},k=async()=>{confirm("¿Está seguro de desbloquear a este experto?")&&await D()},D=async()=>{if(t.expertData.docRef)try{await b(t.expertData.docRef,{isSuspended:!1,suspensionReason:null}),g("reload"),m.success("Experto reactivado exitosamente")}catch(e){console.error("Error reactivating expert:",e),m.error("Error al reactivar al experto")}else m.error("Error: No se encontró el experto")};return(e,r)=>{var a,s;const b=l("v-icon");return n(),o("div",{class:d(["group relative bg-white rounded-3xl border border-gray-100 shadow-sm hover:shadow-xl hover:border-blue-100 transition-all duration-500 overflow-hidden h-full flex flex-col",{"ring-2 ring-red-100 bg-red-50/40":t.expertData.isSuspended}])},[t.expertData.isSuspended?(n(),o("div",I," Suspendido ")):i("",!0),c("div",z,[c("div",{class:d(["w-full md:w-[38%] p-6 flex flex-col items-center md:items-start text-center md:text-left border-b md:border-b-0 md:border-r border-gray-50 bg-gradient-to-br from-white to-gray-50/30",{"from-red-50/50 to-white":t.expertData.isSuspended}])},[c("div",A,[c("div",M,[c("img",{class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",src:t.expertData.profilePicture||"https://picsum.photos/200/300",alt:"Profile picture"},null,8,B),t.expertData.isSuspended?(n(),o("div",V,[p(b,{name:"ri-error-warning-line",class:"text-white",scale:"1.5"})])):i("",!0)])]),c("div",O,[c("h3",P,u(t.expertData.fullName||"Nombre del experto"),1),c("p",U,u(null!==(a=t.expertData.specialty)&&void 0!==a?a:"Especialidad"),1)]),c("div",q,[t.expertData.rating?(n(),o("div",G,[p(b,{name:"io-star",scale:"0.8",class:"text-yellow-400"}),c("span",L,u(x(h)(t.expertData.rating)),1),c("span",F,"("+u(null!==(s=t.expertData.rating.count)&&void 0!==s?s:0)+")",1)])):i("",!0),c("div",T,[t.expertData.isBanned?(n(),o("span",W," Bloqueado ")):(n(),o("span",{key:1,class:d([t.expertData.isSuspended?"bg-red-50 text-red-600 border-red-100":"bg-green-50 text-green-600 border-green-100","px-3 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest border"])},u(t.expertData.isSuspended?"Suspendido":"Activo"),3))])]),c("div",H,[p(b,{name:"hi-identification",scale:"0.7"}),c("p",J," ID: "+u(t.expertData.professionalId||"No Registrado"),1)])],2),c("div",K,[c("div",Q,[c("div",null,[r[0]||(r[0]=c("div",{class:"flex items-center gap-2 mb-3"},[c("div",{class:"w-6 h-1 bg-blue-500 rounded-full"}),c("label",{class:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] block"},"Biografía Profesional")],-1)),c("div",X,[p(b,{name:"ri-zhihu-fill",scale:"1.5",class:"absolute -top-2 -left-2 text-blue-50/50 -z-0"}),c("p",Y,' "'+u(t.expertData.bio||"Este experto aún no ha redactado su biografía profesional.")+'" ',1)])]),t.expertData.isSuspended?(n(),o("div",Z,[c("div",$,[p(b,{name:"ri-error-warning-line",class:"text-red-600",scale:"0.9"}),r[1]||(r[1]=c("span",{class:"text-[10px] font-black text-red-800 uppercase tracking-widest"},"Alerta Administrativa",-1))]),c("div",ee,[r[2]||(r[2]=c("p",{class:"text-xs font-bold text-red-900 mb-1"},"Motivo de suspensión:",-1)),c("p",re,u(t.expertData.suspensionReason||"Incumplimiento de las políticas de la plataforma."),1)])])):i("",!0)]),c("div",te,[t.expertData.isSuspended?(n(),o("button",{key:0,class:"px-5 py-4 bg-white text-emerald-600 border-2 border-emerald-100 rounded-2xl font-black hover:bg-emerald-50 hover:border-emerald-200 transition-all text-sm active:scale-95 shadow-sm flex items-center justify-center gap-2",onClick:k},[p(b,{name:"ri-shield-check-fill",scale:"0.9"}),r[3]||(r[3]=c("span",null,"Reactivar",-1))])):(n(),o("button",{key:1,class:"px-5 py-4 bg-white text-rose-500 border-2 border-rose-50 rounded-2xl font-black hover:bg-rose-50 hover:border-rose-100 transition-all text-sm active:scale-95 shadow-sm flex items-center justify-center gap-2",onClick:w},[p(b,{name:"fa-user-slash",scale:"0.8"}),r[4]||(r[4]=c("span",null,"Suspender",-1))])),c("button",{class:"px-5 py-4 bg-blue-600 text-white rounded-2xl font-black hover:bg-blue-700 hover:shadow-blue-200 transition-all shadow-xl shadow-blue-100 text-sm active:scale-95 flex items-center justify-center gap-2",onClick:y},[r[5]||(r[5]=c("span",null,"Ver Perfil",-1)),p(b,{name:"fa-chevron-right",scale:"0.7"})])])])])],2)}}}),se={class:"web-page min-h-screen bg-gray-50 flex flex-col w-full"},le={class:"sticky top-28 z-40 border-b border-gray-100 shadow-md bg-white rounded-3xl px-12 mx-12"},oe={class:"h-16 flex items-center px-4 justify-between"},ne={class:"flex items-center gap-3"},de={class:"max-w-5xl mx-auto w-full px-4 py-3 bg-gray-50/50"},ie={class:"relative"},ce={class:"flex-1 w-full p-4 overflow-y-auto mt-32"},pe={key:0,class:"flex flex-col items-center justify-center py-20 gap-4"},ue={key:1,class:"flex flex-col items-center justify-center py-20 gap-4"},xe={key:2,class:"grid gap-4 lg:grid-cols-2"},be={class:"space-y-4"},ge={class:"p-4 bg-rose-50 rounded-2xl border border-rose-100"},fe={class:"text-rose-900 font-medium"},me={class:"font-bold"},ve={class:"space-y-2"};e("default",_(t({__name:"ExpertListAdmin",setup(e){const r=a(),t=s(),d=g(),i=f([]),C=f([]),R=f(!1),_=f(!1),I=f(""),z=f(""),A=f({}),M=async()=>{R.value=!0;try{const e=await j(S(d,"experts"));if(e.empty)return t.warning("No hay expertos registrados"),void(R.value=!1);const r=[];e.forEach(e=>{r.push({...e.data(),docId:e.id,docRef:e.ref})}),i.value=r,C.value=r}catch(e){console.error("Error al cargar los expertos:",e),t.error("Error al cargar los expertos: "+e.message)}finally{R.value=!1}},B=e=>{A.value=e,_.value=!0},V=()=>{I.value="",A.value={},_.value=!1},O=async()=>{if(I.value.trim())if(A.value.docRef)try{await b(A.value.docRef,{isSuspended:!0,suspensionReason:I.value.trim()}),t.success("Experto suspendido exitosamente"),await M(),V()}catch(e){console.error("Error suspending expert:",e),t.error("Error al suspender al experto")}else t.error("Error: No se encontró el experto");else t.error("Error: No se proporcionó un motivo de suspensión")};return m(()=>{M()}),(e,t)=>{const a=l("v-icon");return n(),o("div",se,[c("header",le,[c("nav",oe,[t[6]||(t[6]=c("h1",{class:"text-xl font-bold text-blue-700 font-manrope"},"Administrar Expertos",-1)),c("div",ne,[c("button",{class:"px-4 py-2 bg-blue-600 text-white font-bold rounded-xl shadow-lg shadow-blue-200 hover:bg-blue-700 transition-all active:scale-95 text-sm",onClick:t[0]||(t[0]=e=>x(r).push("/create-expert"))}," Crear Experto "),c("button",{class:"px-4 py-2 bg-gray-100 text-gray-600 font-bold rounded-xl hover:bg-gray-200 transition-all active:scale-95 text-sm",onClick:t[1]||(t[1]=e=>x(r).push("/users-list-admin"))}," Ver Usuarios ")])]),c("div",de,[c("div",ie,[p(a,{class:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",name:"fa-search"}),v(c("input",{class:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-2xl outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all font-medium text-gray-700 shadow-sm",placeholder:"Buscar por nombre, especialidad, correo...","onUpdate:modelValue":t[2]||(t[2]=e=>z.value=e),onInput:t[3]||(t[3]=e=>(e=>{const r=e.toLowerCase();C.value=i.value.filter(e=>[e.fullName,e.professionalId,e.email,e.specialty,e.suspensionReason].some(e=>null==e?void 0:e.toLowerCase().includes(r)))})(z.value))},null,544),[[h,z.value]])])])]),c("main",ce,[R.value?(n(),o("div",pe,[...t[7]||(t[7]=[c("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1),c("p",{class:"text-gray-500 font-medium"},"Cargando expertos...",-1)])])):0===C.value.length?(n(),o("div",ue,[p(a,{name:"ri-user-smile-line",scale:"3",class:"text-gray-300"}),t[8]||(t[8]=c("p",{class:"text-gray-500 font-medium"},"No se ha encontrado ningún experto",-1))])):(n(),o("div",xe,[(n(!0),o(y,null,w(C.value,(e,r)=>(n(),k(ae,{key:r,"expert-data":e,onReload:M,onCallOpenModal:B},null,8,["expert-data"]))),128))])),p(N,{show:_.value,"onUpdate:show":t[5]||(t[5]=e=>_.value=e),title:"Suspender Experto",confirmText:"Suspender",onConfirm:O,onCancel:V},{default:D(()=>[c("div",be,[c("div",ge,[c("p",fe,[t[9]||(t[9]=E(" ¿Está seguro de suspender a ",-1)),c("span",me,u(A.value.fullName),1),E(" ("+u(A.value.specialty)+")? ",1)])]),c("div",ve,[t[10]||(t[10]=c("label",{class:"block text-sm font-bold text-gray-700 ml-1"},"Motivo de la suspensión",-1)),v(c("textarea",{class:"w-full h-32 p-4 bg-gray-50 border border-gray-200 rounded-2xl outline-none focus:ring-4 focus:ring-rose-100 focus:border-rose-500 transition-all font-medium text-gray-700 resize-none","onUpdate:modelValue":t[4]||(t[4]=e=>I.value=e),placeholder:"Ej: El experto contactó con el usuario sin permiso"},null,512),[[h,I.value]])])])]),_:1},8,["show"])])])}}}),[["__scopeId","data-v-caeb6fe5"]]))}}});
