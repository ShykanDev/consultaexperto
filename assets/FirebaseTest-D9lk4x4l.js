import{a as g,u as m,k as u,j as v,G as h,b as o,o as l,c as w,e as s,n as b,g as y,F as U,x as k,t as i,I as D}from"./index-9KC0srZ2.js";const E={class:"web-page min-h-screen bg-gray-50 p-4"},S={id:"users"},_={class:"web-content overflow-y-auto"},C={class:"space-y-4"},F={key:0,class:"text-white bg-red-600 p-3 rounded-xl mt-2"},I={class:"mt-2 list-disc pl-5"},G={key:0,class:"text-white bg-red-600 p-3 rounded-xl mt-2"},V=g({__name:"FirebaseTest",setup(N){const n=m(),a=u([]),d=u(null),c=v(),p=h(c,"users"),f=()=>{a.value=[],D(p).then(t=>{a.value=t.docs.map(e=>({...e.data(),userId:e.id})),n.success("Usuarios obtenidos correctamente")}).catch(t=>{console.error("Error al obtener los usuarios: ".concat(t)),n.error("Error al obtener los usuarios: "+t.message)})},x=()=>{n.info("Feature post-migration")};return(t,e)=>(l(),o("div",E,[e[6]||(e[6]=w('<div class="flex p-1 bg-gray-100 rounded-xl mb-4"><button class="flex-1 py-2 text-sm font-bold rounded-lg transition-all" value="users"><div class="web-label flex-1">Users</div></button><button class="flex-1 py-2 text-sm font-bold rounded-lg transition-all" value="experts"><div class="web-label flex-1">Experts</div></button></div>',1)),s("div",S,[s("main",_,[e[5]||(e[5]=s("div",{class:"font-bold text-lg mb-4"},"Testing Get Users (When user is auth)",-1)),s("div",{class:"flex gap-2 mb-4"},[s("button",{class:"web-btn bg-blue-600 text-white px-4 py-2 rounded-lg",onClick:f},"Get Users"),s("button",{class:"web-btn bg-blue-600 text-white px-4 py-2 rounded-lg",onClick:x},"Get Self User")]),s("div",C,[s("div",null,[e[1]||(e[1]=s("p",{class:"font-bold"},"Users Data",-1)),e[2]||(e[2]=s("p",{class:"text-red-500 text-sm"},"If data is present here, then firebase is still allowing user to fetch info that is not allowed (error is expected)",-1)),a.value.length>0?(l(),o("div",F,[e[0]||(e[0]=y(" Users found: You should not be able to see this, check firebase rules ",-1)),s("ul",I,[(l(!0),o(U,null,k(a.value,r=>(l(),o("li",{key:r.userId},i(r.name)+" - "+i(r.email),1))),128))])])):b("",!0)]),s("div",null,[e[3]||(e[3]=s("p",{class:"font-bold"},"Self User Data",-1)),e[4]||(e[4]=s("p",{class:"text-red-600 text-sm"},"If user can't fetch this data, then firebase is not allowing user to fetch info that is not allowed (info is expected)",-1)),d.value?(l(),o("div",G," User Data: "+i(d.value),1)):b("",!0)])])])]),e[7]||(e[7]=s("div",{class:"mt-8",id:"experts"},[s("h2",{class:"font-bold"},"Experts"),s("p",null,"Experts testing section...")],-1))]))}});export{V as default};
